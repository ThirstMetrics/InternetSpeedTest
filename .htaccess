RewriteEngine On
RewriteBase /

# Serve Next.js static files from .next/static directly if they exist
RewriteCond %{DOCUMENT_ROOT}/.next/static/%{REQUEST_URI} -f
RewriteRule ^_next/static/(.*)$ .next/static/$1 [L]

# Don't rewrite actual files (like test.php, favicon.svg, etc)
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Everything else goes through index.php (PHP proxy to Node.js)
RewriteRule ^(.*)$ index.php [L,QSA]
